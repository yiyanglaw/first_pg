{% extends "base.html" %}
{% block content %}
<h1 class="text-3xl font-bold text-center mb-8 text-indigo-600">Patient Management</h1>
<div class="bg-white shadow-xl rounded-lg p-6">
    <div class="flex justify-between items-center mb-6">
        <form class="flex">
            <input class="rounded-l-lg p-2 border-t border-b border-l text-gray-800 border-gray-200 bg-white" type="search" placeholder="Search" aria-label="Search" name="search">
            <button class="px-4 rounded-r-lg bg-indigo-600 text-white font-bold p-2 uppercase border-indigo-600 border-t border-b border-r" type="submit">Search</button>
        </form>
        <a href="{{ url_for('add_patient') }}" class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition duration-300">Add New Patient</a>
    </div>
    <div class="overflow-x-auto">
        <table class="min-w-full bg-white">
            <thead class="bg-gray-800 text-white">
                <tr>
                    <th class="py-3 px-4 uppercase font-semibold text-sm">Name</th>
                    <th class="py-3 px-4 uppercase font-semibold text-sm">IC</th>
                    <th class="py-3 px-4 uppercase font-semibold text-sm">Phone</th>
                    <th class="py-3 px-4 uppercase font-semibold text-sm">Age</th>
                    <th class="py-3 px-4 uppercase font-semibold text-sm">Gender</th>
                    <th class="py-3 px-4 uppercase font-semibold text-sm">Actions</th>
                </tr>
            </thead>
            <tbody class="text-gray-700">
            {% for patient in patients %}
                <tr>
                    <td class="py-3 px-4">{{ patient[1] }}</td>
                    <td class="py-3 px-4">{{ patient[2] }}</td>
                    <td class="py-3 px-4">{{ patient[3] }}</td>
                    <td class="py-3 px-4">{{ patient[4] }}</td>
                    <td class="py-3 px-4">{{ patient[5] }}</td>
                    <td class="py-3 px-4">
                        <a href="{{ url_for('update_patient', id=patient[0]) }}" class="text-blue-500 hover:text-blue-700 mr-2">Update</a>
                        <a href="{{ url_for('delete_patient', id=patient[0]) }}" class="text-red-500 hover:text-red-700 mr-2" onclick="return confirm('Are you sure you want to delete this patient?')">Delete</a>
                        <a href="{{ url_for('download_image', patient_id=patient[0]) }}" class="text-green-500 hover:text-green-700">Download Image</a>
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
